#!/bin/sh

# Launch Zed in the background
zed &

# Wait a moment for the window to appear
sleep 0.5

# Get the Zed window ID
ZED_ID=$(niri msg --json windows | jq -r '.[] | select(.app_id == "zed") | .id')

# Set the window to the desired temporary large width (e.g., 1200 pixels) and height (e.g. 800)
niri msg action set-window-width --window-id "$ZED_ID" fixed 1200
niri msg action set-window-height --window-id "$ZED_ID" fixed 800

# Wait another moment to show the temporary size
sleep 1

# Reset the window height and width back to automatic/default
niri msg action set-window-width --window-id "$ZED_ID" auto
niri msg action set-window-height --window-id "$ZED_ID" auto